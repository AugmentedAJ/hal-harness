PROBLEM DESCRIPTION:
You will be provided with a series of problem steps along with background knowledge necessary for solving the problem. Your task will be to develop a Python solution which addresses all steps of the problem-solving process.

NEXT STEP - PROBLEM STEP AND FUNCTION HEADER:
This part will describe each step in the problem-solving process. For each step, a function header will be provided. Your task is to develop the Python code for each of these steps based on the provided description and function header.

{next_step_str}

DEPENDENCIES:
Use only the following dependencies in your solution. Do not include these dependencies at the beginning of your code.

{dependencies}

RESPONSE GUIDELINES:
Now, based on the instructions and information provided above, write the complete and executable Python program for the all steps in a single block.
Your response should included functions for each specified step, adhering closely to the specified function header and the context provided by the initial steps.
DO NOT generate EXAMPLE USAGE OR TEST CODE in your response. Please make sure your response python code in format of ```python```.